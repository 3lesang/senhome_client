---
interface Props {
  text?: string;
}

const { text } = Astro.props;
---

<div
  x-data="{
      open: false,

      // 'hover focus', 'click'
      trigger: 'hover focus',
    }"
  class="relative inline-block"
>
  <span
    x-on:mouseenter="(trigger === 'hover focus') ? open = true : null"
    x-on:mouseleave="(trigger === 'hover focus') ? open = false : null"
    x-on:focus="(trigger === 'hover focus') ? open = true : null"
    x-on:blur="(trigger === 'hover focus') ? open = false : null"
    x-on:click="(trigger === 'click') ? open = !open : null"
  >
    <slot />
  </span>
  <div
    x-cloak
    x-show="open"
    class="absolute top-full start-1/2 z-50 -ms-20 flex w-40 origin-bottom flex-col items-center justify-center pb-0.5 will-change-transform"
  >
    <div
      class="h-0 w-0 flex-none border-e-4 border-s-4 border-b-4 border-e-transparent border-s-transparent border-b-zinc-900 dark:border-t-zinc-700"
      aria-hidden="true"
    >
    </div>
    <div
      class="flex-none rounded-lg bg-zinc-900 px-2.5 py-2 text-center text-xs font-semibold text-zinc-50 dark:bg-zinc-700"
    >
      {text}
    </div>
  </div>
</div>
